(window.lsWebpackJsonp=window.lsWebpackJsonp||[]).push([[24],{"7B9A":function(e,t,n){"use strict";n.r(t);var r=n("D+Tj").windowLoaded,o=n("sfll").default;r.then(function(){o()}),t.default=function(){}},sfll:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"hideFBReauthModal",function(){return Zt}),n.d(r,"hideSigninFlyoutWithDelay",function(){return $t}),n.d(r,"hideSigninFlyout",function(){return en}),n.d(r,"showSigninFlyout",function(){return tn}),n.d(r,"activeSigninFlyout",function(){return nn}),n.d(r,"deactiveSigninFlyout",function(){return rn}),n.d(r,"signInWithForm",function(){return on}),n.d(r,"signInWithGoogle",function(){return an}),n.d(r,"signInWithFacebook",function(){return cn});var o=n("iIYa"),i=n("+enf"),a=n("pJpQ"),c=n("KYNL"),u=n("U7xR"),s=n("APOa"),l=n("8PZU"),f=n("y9vu"),p=n("I9Mk"),b=n("Rfic"),h=n("4uTl"),d=n("0ieM"),y=n("nXU1"),m=n("paXe"),v=n("Vn+s"),g=n("91cg"),O=n("wNQs"),w=n("GQ3K"),j=n("2Y2o"),k=n("tCwQ");function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){_(e,t,n[t])})}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P={show:!1,active:!1,loading:!1,signedIn:!1,showFBReauthModal:!1,error:null};var N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k.mb:return S({},e,{show:!0});case k.C:return S({},e,{show:!1});case k.a:return S({},e,{active:!0});case k.r:return S({},e,{active:!1});case k.ob:return S({},e,{loading:!0,error:null});case k.pb:return S({},e,{loading:!1,error:null,signedIn:!0});case k.nb:return S({},e,{loading:!1,error:t.error});case k.w:return S({},e,{showFBReauthModal:!0});case k.v:return S({},e,{showFBReauthModal:!1});default:return e}};function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){M(e,t,n[t])})}return e}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x={initialized:!1,matches:{maxWidth960:!0}};var F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k.S:return C({},e,{matches:t.matches||{},initialized:!0});case k.T:return C({},e,{matches:t.matches||{}});default:return e}},E=n("xsGt"),T=n("EtvA");function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){L(e,t,n[t])})}return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e,t,n){return t.reduce(function(t,r){var o=r.key,i=e[o];if(i){switch(i.id){case"coupons":i=function(e,t){if(!e)return e;Array.isArray(t)&&t.length&&(e.couponsSubnavLinks=t);return D(e)}(i,n);break;case"goods":i=function(e){if(!e)return e;var t=e.categories,n=e.flatLinks,r=e.shopAllTitle;return e.categories=t.map(function(e){return U({},e,{url:A(e),children:(e.children||[]).map(function(e){return U({},e,{url:A(e)})}),title:r.replace("%category%",e.name)})}),e.flatLinks=n.map(function(e){return U({},e,{url:A(e)})}),e}(i);break;case"local":i=function(e){if(!e)return e;var t=e.categories,n=e.baseUrl;return e.categories=t.map(function(e){return Object.assign(e,{url:e.url||Object(E.e)(n,I(e))})}),D(e)}(i);break;default:i=D(i)}Object.assign(t,L({},o,i))}return t},{})}function I(e){var t=e.id,n=e.taxonomyLvl,r=e.path;return"all-deals"===t?{context:"local"}:n&&r?L({category:r},"category".concat(n),t):{category:t}}function D(e){var t=e.id,n=e.categories;return n.forEach(function(e){var n=e.name,r=e.text,o=e.link,i=e.url;Object.assign(e,{id:e.id||Object(T.d)(n||r||""),url:i||o,name:n||r,tab:"".concat(t,"-tab")})}),e.columns=function(e){if(0===e.length)return[];e=e.slice(0,28);var t=7,n=Math.floor((e.length-1)/t)+1;return e.length<=n*(t-1)&&(t-=1),e.reduce(function(e,n){var r=e[e.length-1];return r.length<t?r.push(n):e.push([n]),e},[[]])}(n),e}function A(e){var t=e.id,n=e.url;return n||"/goods/".concat(encodeURIComponent(t))}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){G(e,t,n[t])})}return e}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var W={activeTab:null,primary:[],flyouts:{},cards:{}},q=function(e,t){var n=(t.payload||{}).navbar||{},r=n.primary,o=n.flyouts,i=n.couponsSubnavLinks;if(!Array.isArray(r))return e;var a=r&&o?R(o,r,i):null;return B({},e,{primary:r},a&&{flyouts:a},{couponsSubnavLinks:i})},z=function(e,t){var n=t.rect,r=e.primary,o=r.findIndex(function(e){return e.key===n.id});return r[o]=B({},r[o],n),B({},e,{primary:r})};var V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k.E:return q(e,t);case k.P:return B({},e,{activeTab:t.tab});case k.Q:return B({},e,{activeTab:null});case k.O:return z(e,t);case k.qb:var n=t||{},r=n.flyouts,o=n.cards,i=e.couponsSubnavLinks;return B({},e,{flyouts:R(r,e.primary,i),cards:o});case"SUBNAV_UPDATE_COUPONS":var a=t.couponsSubnavLinks;return B({},e,{flyouts:R(e.flyouts,a),couponsSubnavLinks:a});case k.R:return B({},e,{primary:(t||{}).primary});default:return e}},H=Object(i.combineReducers)({app:c.a,t:u.a,auth:l.a,flags:s.a,inAppMessages:f.a,notifications:p.a,location:b.a,recentLocations:h.a,recentSearches:d.a,dealSearch:y.a,dealSuggestions:m.a,locationSearch:v.a,locationSuggestions:g.a,search:O.a,cookieBanner:w.a,cart:j.a,signinFlyout:N,responsive:F,navbar:V}),Q=function(e){return Object(i.createStore)(H,e,Object(a.composeWithDevTools)(Object(i.applyMiddleware)(o.a)))},K=n("K2M2"),Y=n("4dxh"),J=n("Y+fs"),X=n("qx6D"),Z=n("wA29"),$=n("q2Q2");function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ie=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=ne(t).call(this,e))||"object"!==ee(o)&&"function"!=typeof o?re(r):o).mouseEnter=n.mouseEnter.bind(re(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(t,Y["Component"]),n=t,(r=[{key:"renderItemCount",value:function(e){return e<=0?null:Object(Y.h)("div",{className:"item-count"},e>99?"99+":e.toString())}},{key:"mouseEnter",value:function(){this.props.updateUnViewedCount()}},{key:"render",value:function(){var e=this.props,t=e.t,n=e.unviewedCount;return Object(Y.h)("span",{id:"bell",role:"button",className:"ls-h-bell","data-bhw":"NotificationsInbox","aria-haspopup":"true","aria-owns":"ls-inbox-flyout","aria-label":t.header.notifications,onMouseEnter:this.mouseEnter},Object(Y.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(Y.h)("path",{fill:"#FFF",d:"M10.956 2.049a1.073 1.073 0 0 1-.095-.443C10.861.995 11.371.5 12 .5s1.139.495 1.139 1.106c0 .157-.034.307-.096.443 2.544.358 4.315 2.051 5.37 4.667.804 1.99 1.134 4.342 1.134 6.504 0 1.12.631 2.493 1.633 3.87.813 1.121-.02 2.656-1.408 2.656h-3.909C15.837 21.825 14.117 23.5 12 23.5s-3.838-1.675-3.864-3.754H4.228c-1.388 0-2.221-1.535-1.408-2.657 1.001-1.376 1.633-2.748 1.633-3.87 0-2.16.33-4.513 1.133-6.503 1.056-2.616 2.827-4.31 5.37-4.667zm-.985 17.697c.026 1.078.923 1.944 2.029 1.944 1.105 0 2.003-.866 2.028-1.944H9.971zm7.741-6.526c0-5.252-1.687-9.432-5.712-9.432-4.025 0-5.713 4.18-5.713 9.432 0 1.526-.708 3.128-1.827 4.716h15.08c-1.12-1.59-1.828-3.19-1.828-4.716z"})),this.renderItemCount(n))}}])&&te(n.prototype,r),o&&te(n,o),t}(),ae=Object(J.b)(X.a,{updateUnViewedCount:Z.e})(ie),ce=n("aTGx"),ue=n("j/C6"),se=n("Xnfh");function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pe(e){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function be(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function he(e,t){return(he=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var de=function(e){function t(e){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=pe(t).call(this,e),n=!o||"object"!==le(o)&&"function"!=typeof o?be(r):o;var i=I18n.lang;return Object(ue.b)(i).then(function(e){Object.assign(be(n),{timeAgoConfig:e}),n.forceUpdate()}),n.handleMessageClick=n.handleMessageClick.bind(be(n)),n.renderContent=n.renderContent.bind(be(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&he(e,t)}(t,Y["Component"]),n=t,(r=[{key:"redirect",value:function(e){window.location.href=e.url,e.url.includes("#")&&window.location.reload()}},{key:"handleMessageClick",value:function(e,t){var n=this;return e.preventDefault(),Object($.d)(t.id).then(function(){n.redirect(t)}).catch(function(){n.redirect(t)})}},{key:"renderNotification",value:function(e){var t=this,n=e.id,r=e.url,o=e.bhd,i=e.state,a=e.title,c=e.message,u=e.startAt,s=e.started,l=e.imageUrl,f=this.timeAgoConfig,p=Object(ue.a)(s,f);return Object(Y.h)("div",{className:"ls-inbox-item ls-inbox-item-".concat(i),"data-id":n,"data-bhd":o,"data-bhc":"notification:".concat(n),"aria-label":a,href:r,role:"button",style:{backgroundImage:"url('".concat(l,"')")},key:"notification:".concat(n),onClick:function(n){return t.handleMessageClick(n,e)}},Object(Y.h)(se.a,{tagName:"div",className:"ls-inbox-item-title",role:"heading","aria-level":"4",key:"notification-title:".concat(n)},a),Object(Y.h)(se.a,{tagName:"div",className:"ls-inbox-item-msg",key:"notification-message:".concat(n)},c),Object(Y.h)("div",{className:"ls-inbox-item-time","data-start":u,key:"notification-time:".concat(n)},Object(Y.h)(ce.a,{time:p})))}},{key:"renderContent",value:function(){var e=this,t=this.props,n=t.messages;return t.loading?Object(Y.h)("div",{className:"gig-crawler",style:"position: absolute; top: 50%; left: 50%"},Object(Y.h)("div",null),Object(Y.h)("div",null),Object(Y.h)("div",null)):n.map(function(t){return e.renderNotification(t)})}},{key:"render",value:function(){return Object(Y.h)("div",{id:"ls-inbox-flyout",className:"ls-inbox-flyout ls-prompt inbox-flyout","data-bhw":"inbox","aria-labelledby":"bell"},Object(Y.h)("div",{className:"ls-inbox-list"},this.renderContent()))}}])&&fe(n.prototype,r),o&&fe(n,o),t}();Object(J.b)(X.b)(de);function ye(e){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ve(e,t){return!t||"object"!==ye(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ge(e){return(ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oe(e,t){return(Oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var we=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ve(this,ge(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oe(e,t)}(t,Y["Component"]),n=t,(r=[{key:"renderSignin",value:function(e){var t=e.t;return e.auth.isAuthenticated?null:Object(Y.h)("div",{className:"ls-inbox-no-account-section","data-bhw":"noAccount"},Object(Y.h)("p",null,t.notifications.emptyMessage),Object(Y.h)("a",{className:"t-button btn btn-signin referrer-link",href:"/login","data-bhw":"signIn",role:"button"},t.notifications.signIn),Object(Y.h)("span",null,t.notifications.noAccountYet)," ",Object(Y.h)("a",{className:"ls-inbox-sign-up-link referrer-link",href:"/signup","data-bhw":"signUp"},t.notifications.signUp))}},{key:"render",value:function(){var e=this.props.t;return Object(Y.h)("div",{id:"ls-inbox-flyout",className:"ls-inbox-flyout ls-prompt inbox-flyout","data-bhw":"inbox","aria-labelledby":"bell"},Object(Y.h)("div",{className:"ls-inbox-list  ls-pane-content ls-inbox-list-no-messages","data-bhw":"list"},Object(Y.h)("div",{className:"ls-inbox-no-messages","data-bhw":"noMessages"},Object(Y.h)("span",{className:"ls-inbox-small-bell",role:"presentation"}),Object(Y.h)("div",{className:"ls-inbox-no-messages-title",role:"heading","aria-level":"3"},e.notifications.emptyHeader),this.renderSignin(this.props))))}}])&&me(n.prototype,r),o&&me(n,o),t}();function je(e){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ke(){return(ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ne(e,t){return(Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ce=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=_e(t).call(this,e))||"object"!==je(o)&&"function"!=typeof o?Pe(r):o).mouseLeave=n.mouseLeave.bind(Pe(n)),n.markMessagesAsViewed=n.markMessagesAsViewed.bind(Pe(n)),n.renderMessages=n.renderMessages.bind(Pe(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ne(e,t)}(t,Y["Component"]),n=t,(r=[{key:"mouseLeave",value:function(){this.markMessagesAsViewed()}},{key:"markMessagesAsViewed",value:function(){var e=this.props.messages.filter(function(e){return"unviewed"===e.state}).map(function(e){return e.id});e.length&&(this.props.markAsViewed(e),Object($.e)(e))}},{key:"renderMessages",value:function(){return this.props.messages.length?Object(Y.h)(de,this.props):Object(Y.h)(we,this.props)}},{key:"render",value:function(){return this.props.flags.showNotificationsOnDesktop?Object(Y.h)("div",{id:"ls-header-inbox-flyout-container",className:"ls-inbox",onMouseLeave:this.mouseLeave},Object(Y.h)(ae,ke({},this.props,{onMouseLeave:this.mouseLeave})),this.renderMessages()):null}}])&&Se(n.prototype,r),o&&Se(n,o),t}(),Me=Object(J.b)(X.b,{markAsViewed:Z.c})(Ce),xe=n("D+Tj");function Fe(e){return(Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Te(e,t){return!t||"object"!==Fe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ue(e){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Le(e,t){return(Le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Re=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Te(this,Ue(t).call(this,e))).remove=!1,n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Le(e,t)}(t,Y["Component"]),n=t,(r=[{key:"componentDidUpdate",value:function(e){var t=this,n=this.props.banner;Object($.c)(n)&&!this.remove&&(Object(Z.d)(),this.remove=!0),n&&n!==e.banner&&this.container&&(n.message=n.message.replace("src",'class="lazy-wl no-bg" style="min-height: 100px" data-src'),xe.windowLoaded.then(function(){t.container.innerHTML=n.message,Groupon.Utils.lazyLoadImages(".lazy-wl")}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.t,r=t.banner;if(Object($.c)(r)||this.remove)return null;var o=r.id,i=r.title;return Object(Y.h)("div",{id:"iam-messages",className:"iam-whiteUI","data-bhw":"SiteAnnouncement"},Object(Y.h)("div",{id:"message-".concat(o),"data-bhc":"announcement:".concat(o),className:"iam-banner","data-bhd":r.bhd},Object(Y.h)("div",{id:"iam-head"},i&&Object(Y.h)("div",{role:"heading","aria-level":"4",id:"iam-headline",className:"iam-headline"},i),Object(Y.h)("span",{"data-bhw":"site-announcement-close","data-bhc":"announcement-close:".concat(o),className:"hide-link",title:n.common.close,role:"button",onClick:function(){e.props.blockBanner(r)}},Object(Y.h)("span",{className:"ax-hidden"},n.common.close))),Object(Y.h)("div",{id:"iam-msg",className:"iam-msg"},Object(Y.h)("a",{href:r.url||r.target,ref:function(t){e.container=t}}))))}}])&&Ee(n.prototype,r),o&&Ee(n,o),t}(),Ie=Object(J.b)(function(e){return{banner:e.inAppMessages.banner,t:e.t}},{blockBanner:Z.a})(Re),De=n("1z6T"),Ae=n("YuQY");function Be(e){return(Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function We(e,t){return!t||"object"!==Be(t)&&"function"!=typeof t?ze(e):t}function qe(e){return(qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ve(e,t){return(Ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var He=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=We(this,qe(t).call(this,e)),e.init().show?(n.handleBeforePageHide=n.handleBeforePageHide.bind(ze(n)),n.handleAcceptClick=n.handleAcceptClick.bind(ze(n)),n.handleReadMoreClick=n.handleReadMoreClick.bind(ze(n)),window.addEventListener("pagehide",n.handleBeforePageHide),n.state={showFullText:!1},n):We(n)}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ve(e,t)}(t,Y["Component"]),n=t,(r=[{key:"handleBeforePageHide",value:function(){this.props.accept(!0)}},{key:"handleAcceptClick",value:function(){window.removeEventListener("pagehide",this.handleBeforePageHide),this.props.accept(!1)}},{key:"handleReadMoreClick",value:function(){this.setState({showFullText:!0})}},{key:"render",value:function(){var e=this.props,t=e.show,n=e.t;if(!t)return null;var r=n.cookieBanner.accept||"",o=Object(Ae.a)(n)||"";return Object(Y.h)("div",{className:"bottom-gdpr","data-bhc":"gdprBottom"},Object(Y.h)("div",{className:"page-container bottom-gdpr-contents"},Object(Y.h)("div",{className:"bottom-gdpr-full-txt"},Object(Y.h)("span",{className:"bottom-gdpr-txt"},o)),Object(Y.h)("button",{className:"btn btn-transparent",onClick:this.handleAcceptClick,"data-bhw":"gdprBottomAcceptBtn"},r)))}}])&&Ge(n.prototype,r),o&&Ge(n,o),t}(),Qe=Object(J.b)(function(e){return{show:e.cookieBanner.showBottomBanner,t:e.t}},{init:De.b,accept:De.a})(He),Ke=n("8Jek"),Ye=n.n(Ke),Je=n("tOpy"),Xe=n("24CC");function Ze(e){return(Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function et(e,t){return!t||"object"!==Ze(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tt(e){return(tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nt(e,t){return(nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var rt,ot=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),et(this,tt(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nt(e,t)}(t,Y["Component"]),n=t,(r=[{key:"render",value:function(){return Object(Y.h)("svg",{className:"primary-link-icon",width:"24",height:"20",viewBox:"0 0 24 20",xmlns:"http://www.w3.org/2000/svg"},Object(Y.h)("path",{d:"M22.4 0c.884 0 1.6.723 1.6 1.615V17.77c0 .892-.716 1.616-1.6 1.616H1.6c-.884 0-1.6-.724-1.6-1.616V1.615C0 .723.716 0 1.6 0h20.8zm0 17.77V1.614H1.6V17.77h20.8zm-18-3.232c-.22 0-.4-.18-.4-.403 0-.223.18-.404.4-.404.22 0 .4.18.4.404 0 .223-.18.403-.4.403zm1.6 0c-.22 0-.4-.18-.4-.403 0-.223.18-.404.4-.404.22 0 .4.18.4.404 0 .223-.18.403-.4.403zm1.6 0c-.22 0-.4-.18-.4-.403 0-.223.18-.404.4-.404.22 0 .4.18.4.404 0 .223-.18.403-.4.403zm1.6 0c-.22 0-.4-.18-.4-.403 0-.223.18-.404.4-.404.22 0 .4.18.4.404 0 .223-.18.403-.4.403zm1.875-3.861a.582.582 0 0 1-.447.172.584.584 0 0 1-.447-.172L8.173 8.346a.603.603 0 0 1 0-.845.586.586 0 0 1 .835 0l1.647 1.911 5.137-5.198a.586.586 0 0 1 .835 0c.23.233.23.611 0 .845l-5.552 5.618zm1.795 2.246c.096 0 .173.09.173.202v1.416l.522-.003c.096 0 .174.09.174.202 0 .112-.078.202-.174.202h-1.391c-.096 0-.174-.09-.174-.202 0-.111.078-.202.174-.202h.522l-.006-1.211h-.516c-.096 0-.174-.09-.174-.202 0-.112.078-.202.174-.202h.696zm1.347 2.02c-.096 0-.174-.091-.174-.203v-.807c0-.112.078-.202.174-.202l1.218-.002v-.402h-1.218c-.096 0-.174-.09-.174-.202 0-.112.078-.202.174-.202h1.392c.096 0 .174.09.174.202v.808c0 .111-.078.202-.174.202H14.39v.403h1.218c.096 0 .174.09.174.202 0 .112-.078.202-.174.202h-1.392zm5.386-.203v-.605h-1.218c-.096 0-.174-.09-.174-.202v-.808c0-.112.078-.202.174-.202.096 0 .174.09.174.202l-.002.606h1.046v-.606c0-.112.078-.202.174-.202.096 0 .174.09.174.202v1.615c0 .112-.078.202-.174.202-.096 0-.174-.09-.174-.202zm-2.066-1.011v-.402H16.32c-.096 0-.174-.09-.174-.202 0-.112.078-.202.174-.202h1.391c.096 0 .174.09.174.202v1.615s-.008.202-.174.202h-1.39s-.175-.02-.175-.202c0-.18.147-.199.147-.199h1.253v-.406h-.792s-.174-.009-.174-.202c0-.194.174-.202.174-.202l.783-.002z"}))}}])&&$e(n.prototype,r),o&&$e(n,o),t}(),it=function(e){return e.responsive};var at=Object(Je.createSelector)(it,function(e){return void 0===rt&&"undefined"!=typeof document&&(rt=document.body.classList.contains("ls-resp")),rt&&e.matches.maxWidth960&&e.initialized}),ct=Object(Je.createSelector)(Xe.b,Xe.j,Xe.f,Xe.c,Xe.k,Xe.d,it,at,function(e,t,n,r,o,i,a,c){return{app:e,t:t,flags:n,auth:r,user:o,cart:i,responsive:a,hideSigninFlyoutForResponsive:c}}),ut=Object(Je.createSelector)(Xe.b,Xe.j,Xe.f,Xe.c,function(e){return e.signinFlyout},Xe.k,it,at,function(e,t,n,r,o,i,a,c){return{app:e,t:t,flags:n,auth:r,signinFlyout:o,user:i,responsive:a,hideSigninFlyoutForResponsive:c}}),st=Object(Je.createSelector)(Xe.b,Xe.j,Xe.f,Xe.c,Xe.k,function(e,t,n,r,o){var i=e.country;function a(e){return o?e:"/login?return_to=".concat(encodeURIComponent(e))}var c=[{type:"primary",id:"user-my-groupon",bhw:"user-flyout-mygroupons-link",url:a("/mystuff"),text:t.userNav.myGroupons,iconClass:"icon-tag"},{type:"primary",id:"user-my-card-linked-deals",bhw:"user-flyout-mycardlinkeddeals-link",icon:Object(Y.h)(ot,null),url:a("/mylinkeddeals"),text:t.userNav.myGrouponPlusDeals,filter:n.showMyLinkedDealsLink},{type:"primary",id:"user-wishlish",url:a("/wishlist"),bhw:"user-flyout-wishlist-link",iconClass:"icon-heart",text:t.userNav.myWishlist,filter:n.showWishlist},{type:"separator"},{type:"secondary",id:"user-account",bhw:"UserAccount",url:a("/myaccount"),text:t.userNav.myAccount},{type:"secondary",id:"how-groupon-works",bhw:"UserGrouponWorks",url:"/landing/welcome-to-groupon",text:t.userNav.howGrouponWorks,filter:"GB"===i},{type:"secondary",id:"user-profile",bhw:"UserProfile",url:a("/myprofile"),text:t.userNav.myProfile,filter:n.showMyProfile},{type:"secondary",id:"user-subscriptions",bhw:"UserSubscriptions",url:"/subscription_center",text:t.userNav.mySubscriptions,filter:o&&(o.showSubscriptions||"US"!==i)},{type:"secondary",id:"user-giftcard",bhw:"UserGiftcard",url:"/giftcards#redemption_section",text:t.userNav.myGiftcard,filter:"US"===i&&n.showGiftCards},{type:"secondary",id:"refer-a-friend",className:"refer-a-friend",bhw:"UserReferFriends",url:"/visitor_referral",text:t.userNav.referAFriendMessage,filter:n.showReferAFriend},{type:"secondary",id:"user-merchant-center",bhw:"UserMerchant-center",url:t.links.myMerchantCenterLink,text:t.userNav.myMerchantCenter,filter:n.showMerchantCenterLink&&o&&o.isMerchant},{type:"secondary",id:"sign-out",bhw:"UserSignOut",url:Object(E.b)("/logout"),text:t.userNav.signOut,className:"sign-out referrer-link",filter:!!o},{type:"secondary",id:"sign-up",bhw:"UserSignUp",url:Object(E.b)("/signup"),text:t.userNav.signInFlyoutSignUp,className:"sign-up",filter:!o}];return{app:e,t:t,flags:n,auth:r,user:o,myStuffMenuItems:c.filter(function(e){return!e.hasOwnProperty("filter")||e.filter})}}),lt=n("9RkE"),ft=n("ZQwu"),pt=n("xf2O"),bt=n("OiM/");function ht(e){return(ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yt(e){return(yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vt(e,t){return(vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var gt=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=yt(t).call(this,e))||"object"!==ht(o)&&"function"!=typeof o?mt(r):o).renderEmpty=n.renderEmpty.bind(mt(n)),n.renderItems=n.renderItems.bind(mt(n)),n.renderItem=n.renderItem.bind(mt(n)),n.renderLoading=n.renderLoading.bind(mt(n)),n.renderError=n.renderError.bind(mt(n)),n.enableUniversalCart=null,n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vt(e,t)}(t,Y["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){this.enableUniversalCart=Object(bt.b)("enableUniversalCartDesktop")}},{key:"renderLoading",value:function(){var e=this.props.t;return Object(Y.h)("div",{className:"cart-flyout cart-container load-spinner","data-bhw":"ShoppingCart"},Object(Y.h)("span",{className:"ls-loading-message"},e.cart.loading))}},{key:"renderError",value:function(){var e=this.props.t;return Object(Y.h)("div",{className:"cart-flyout cart-container ls-widget-error","data-bhw":"ShoppingCart"},Object(Y.h)("span",{className:"ls-loading-message"},e.cart.error))}},{key:"renderEmpty",value:function(){var e,t,n=this.props,r=n.t,o=n.cart;return this.enableUniversalCart?(e=r.cart.emptyTextUniversal,t=Object(Y.h)("a",{href:"/browse"},r.cart.emptyTextUniversalLink)):(e=r.cart.emptyText,t=Object(Y.h)("a",{href:"/goods"},r.cart.goods,".")),Object(Y.h)("div",{id:"ls-header-cart-body",className:"cart-flyout cart-empty-container","data-bhw":"ShoppingCart","data-bhd":o.uuid?'{"uuid":"'.concat(o.uuid,'"}'):void 0},Object(Y.h)("div",{className:"cart-empty-body"},Object(Y.h)("div",{className:"cart-empty-header"},r.cart.empty),Object(Y.h)("p",{className:"cart-empty-content"},e," ",t)))}},{key:"renderItem",value:function(e){var t=e.deal_uuid,n=e.deal_permalink,r=e.option_uuid,o={deal_uuid:t,deal_permalink:n,option_uuid:r,option_quantity:e.quantity};return Object(Y.h)("div",{className:"cart-item","data-uuid":e.option_uuid,"data-bhc":"deal_option:".concat(n,"+").concat(r),"data-bhd":JSON.stringify(o)},Object(Y.h)("div",{className:"cart-cell cart-desc"},Object(Y.h)("div",{className:"cart-img"},Object(Y.h)("img",{src:e.url,alt:e.title})),Object(Y.h)("div",{className:"cart-title"},e.title)),Object(Y.h)("div",{className:"cart-cell cart-quantity"},e.quantity),Object(Y.h)("div",{className:"cart-cell cart-price"},e.price))}},{key:"renderItems",value:function(){var e=this.props,t=e.t,n=e.cart,r=e.flags;return Object(Y.h)("div",{className:"cart-flyout cart-container","data-bhw":"ShoppingCart","data-bhd":n.uuid?'{"uuid":"'.concat(n.uuid,'"}'):void 0},Object(Y.h)("div",{className:"cart-header"},Object(Y.h)("div",{className:"cart-cell cart-desc"},Object(Y.h)("span",{className:"cart-desc-title"},t.cart.desc),Object(Y.h)("span",{className:"cart-desc-qty"},"(",n.quantity,")")),Object(Y.h)("div",{className:"cart-cell cart-quantity"},t.cart.quantity),Object(Y.h)("div",{className:"cart-cell cart-price"},t.cart.price)),Object(Y.h)("div",{className:"cart-item-list"},n.items.map(this.renderItem)),Object(Y.h)("div",{className:"cart-footer"},Object(Y.h)("div",{className:"cart-subtotal"},Object(Y.h)("div",{className:"subtotal-text"},t.cart.subtotal,":",Object(Y.h)("b",null,n.subtotal))),Object(Y.h)("div",{className:"cart-links"},Object(Y.h)("a",{href:r.cartWidgetUrl,className:"btn btn-small","data-bhw":"ViewCart"},t.cart.view))))}},{key:"render",value:function(){var e=this.props.cart,t=null;switch(e.widgetStatus){case"success":t=e.items.length?this.renderItems():this.renderEmpty();break;case"failure":t=this.renderError();break;case"loading":t=this.renderLoading();break;case"initial":default:t=null}return t}}])&&dt(n.prototype,r),o&&dt(n,o),t}();function Ot(e){return(Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jt(e){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function St(e,t){return(St=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _t=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=jt(t).call(this,e))||"object"!==Ot(o)&&"function"!=typeof o?kt(r):o).handleMouseOver=n.handleMouseOver.bind(kt(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&St(e,t)}(t,Y["Component"]),n=t,(r=[{key:"handleMouseOver",value:function(){var e=this.props,t=e.cart,n=e.loadCartWidget;"loading"!==t.widgetStatus&&"success"!==t.widgetStatus&&n()}},{key:"render",value:function(){var e=this.props,t=e.t,n=e.flags,r=e.cart,o=n.showCart,i=n.cartWidgetUrl;if(!o)return null;var a=null;return a=r.size>0?[Object(Y.h)(se.a,{tagName:"span",className:"cart-text",key:"cart-text"},t.cart.desc," (",r.quantity,")"),Object(Y.h)(se.a,{tagName:"span",className:"cart-count",key:"cart-count"},r.size)]:Object(Y.h)(se.a,{tagName:"span",key:"header-cart"},t.header.cart),Object(Y.h)("span",{id:"ls-header-cart-link",className:"user-menu-item cart-widget ls-cart-size-".concat(r.sizeStatus),"data-bhw":"CartWidget"},Object(Y.h)("a",{tagName:"a",href:i,id:"ls-cart-link",className:"cart-link icon-goods",rel:"nofollow",onMouseOver:this.handleMouseOver},a),Object(Y.h)(gt,this.props))}}])&&wt(n.prototype,r),o&&wt(n,o),t}(),Pt=n("67Pp");function Nt(e){return(Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mt(e,t){return!t||"object"!==Nt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xt(e){return(xt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ft(e,t){return(Ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Et=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Mt(this,xt(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ft(e,t)}(t,Y["Component"]),n=t,o=[{key:"handleClick",value:function(e,t){e.preventDefault(),Cookie.set("user_locale",t.locale,{maxAge:31536e7,consentClass:"essential"});var n=(document.head.querySelector("link[hreflang='".concat(t.locale.replace("_","-"),"']"))||{}).href;Object(Pt.b)(n||"/")}}],(r=[{key:"render",value:function(){var e=this.props.flags.languageSelector;if(!e)return null;var n=e.languageLocales,r=e.activeName;return Object(Y.h)("div",{id:"ls-lang-menu",className:"lang-menu user-menu-item"},Object(Y.h)(se.a,{tagName:"a",id:"ls-lang-selected",className:"ls-lang-selected icon-arrow-down-large",key:"ls-lang-selected"},r),Object(Y.h)("div",{id:"ls-lang-list",className:"ls-lang-list lang-list"},n.map(function(e){return Object(Y.h)(se.a,{tagName:"a","data-locale":e.locale,className:"lang-list-item",key:e.locale,onClick:function(n){return t.handleClick(n,e)}},e.text)})))}}])&&Ct(n.prototype,r),o&&Ct(n,o),t}(),Tt=n("ovF4");function Ut(e){return(Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rt(e){return(Rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function It(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dt(e,t){return(Dt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var At,Bt=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Rt(t).call(this,e))||"object"!==Ut(o)&&"function"!=typeof o?It(r):o).shouldRenderSelect=n.shouldRenderSelect.bind(It(n)),n.renderMenuItems=n.renderMenuItems.bind(It(n)),n.renderMenuItem=n.renderMenuItem.bind(It(n)),n.renderSelect=n.renderSelect.bind(It(n)),n.handleClick=n.handleClick.bind(It(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dt(e,t)}(t,Y["Component"]),n=t,(r=[{key:"shouldRenderSelect",value:function(){var e=this.props,t=e.user,n=e.app;return!(!t||!n.brand.isGroupon||"US"!==n.country)}},{key:"handleClick",value:function(e,t){"sign-out"===t.id&&this.props.signOut()}},{key:"renderMenuItem",value:function(e){var t=this,n=e.id,r=e.url,o=e.bhw,i=e.type,a=e.text,c=e.icon,u=e.iconClass,s=e.className;if("separator"===i)return Object(Y.h)("div",{role:"separator",className:"my-stuff-item-separator"});var l=null;return l="primary"===i?Object(Y.h)("span",{className:"primary-link-text"},a):e.text,Object(Y.h)(se.a,{tagName:"a",role:"menuitem",id:n,href:r,key:n,"data-bhw":o,className:Ye()("my-stuff-item",s,"my-stuff-item-".concat(e.type),u),onClick:function(n){return t.handleClick(n,e)}},c,l)}},{key:"renderMenuItems",value:function(){return this.props.myStuffMenuItems.map(this.renderMenuItem)}},{key:"renderSelect",value:function(){var e=this.props,t=e.app,n=e.auth,r="/programs/select?utm_source=merchandising_&utm_medium=header&utm_campaign=enrollmentfirstround",o=t.assets.selectFlyout;return this.shouldRenderSelect()?(n.user.selectFlag&&(r="/occasion/groupon-select-local?utm_source=merchandising_&utm_medium=homepage&utm_campaign=flyoutheaderenrollee",o=t.assets.selectFlyoutLoggedIn),Object(Y.h)("a",{href:r,className:"sf-select-link","data-bhw":"SelectFlyout"},Object(Y.h)("img",{src:o,alt:"SelectFlyout"}))):null}},{key:"render",value:function(){var e=this.props,t=e.t,n=e.user,r=e.show;return Object(Y.h)("div",{id:n?"ls-my-stuff":"",className:Ye()({"my-stuff sf signed-in":n,"sf-links":!n,"sf-has-select":this.shouldRenderSelect(),show:r}),role:"menu",onMouseOver:this.props.onMouseOver,onMouseOut:this.props.onMouseOut},Object(Y.h)(se.a,{tagName:"span",className:"ax-hidden",id:"user-menu-description",key:"user-menu-description"},t.userNav.userHeadline),this.renderSelect(),Object(Y.h)("div",{className:"sf-my-stuff-right"},this.renderMenuItems()))}}])&&Lt(n.prototype,r),o&&Lt(n,o),t}(),Gt=Object(J.b)(st,{signOut:Tt.b})(Bt);function Wt(e){return(Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zt(e){return(zt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ht(e,t){return(Ht=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Qt=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=zt(t).call(this,e))||"object"!==Wt(o)&&"function"!=typeof o?Vt(r):o).state={showUserMenu:!1},n.shouldRenderUserMenu=n.shouldRenderUserMenu.bind(Vt(n)),n.renderUserMenu=n.renderUserMenu.bind(Vt(n)),n.renderSignInLink=n.renderSignInLink.bind(Vt(n)),n.renderSignUpLink=n.renderSignUpLink.bind(Vt(n)),n.renderWishlist=n.renderWishlist.bind(Vt(n)),n.renderMyStuffMenu=n.renderMyStuffMenu.bind(Vt(n)),n.showUserMenu=n.showUserMenu.bind(Vt(n)),n.toggleUserMenu=n.toggleUserMenu.bind(Vt(n)),n.handleDocumentTouch=n.handleDocumentTouch.bind(Vt(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ht(e,t)}(t,Y["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("changestate",function(){e.forceUpdate()}),document.addEventListener("touchend",this.handleDocumentTouch),this.props.user&&this.initResponsiveMenu()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("touchend",this.handleDocumentTouch)}},{key:"componentDidUpdate",value:function(e){e.auth.isAuthenticated!==this.props.auth.isAuthenticated&&this.initResponsiveMenu()}},{key:"handleDocumentTouch",value:function(e){e.target.closest("#ls-my-stuff")||this.showUserMenu(!1)}},{key:"showUserMenu",value:function(e){this.setState({showUserMenu:e})}},{key:"toggleUserMenu",value:function(){this.setState({showUserMenu:!this.state.showUserMenu})}},{key:"initResponsiveMenu",value:function(){(Groupon.PageFlags||{}).isLegacyResponsive&&Groupon.LS.responsiveMenu&&!At&&(At=!0,setTimeout(function(){Groupon.LS.responsiveMenu()},100))}},{key:"shouldRenderUserMenu",value:function(){var e=this.props,t=e.flags,n=e.user,r=e.hideSigninFlyoutForResponsive,o=t.showLiteHeader;return!!n&&(o||r)}},{key:"renderUserMenu",value:function(){var e=this;if(!this.shouldRenderUserMenu())return null;var t=this.props.user;return Object(Y.h)(pt.a,{id:"user-name",key:"user-name","data-bhw":"UserName",href:"/mystuff",rel:"nofollow","aria-haspopup":"true","aria-describedby":"user-menu-description","data-user-name":t.firstName,className:"user-menu-item user-name",onTouch:this.toggleUserMenu,onMouseOver:function(){return e.showUserMenu(!0)},onMouseOut:function(){return e.showUserMenu(!1)}},Object(Y.h)("span",{className:"icon-arrow-down-large"},t.nameTruncated||t.firstName))}},{key:"renderSignInLink",value:function(){var e=this.props,t=e.t,n=e.flags,r=e.user,o=e.hideSigninFlyoutForResponsive;return r||!n.showLiteHeader&&!o?null:Object(Y.h)("a",{className:"user-menu-item",id:"ls-user-signin","data-bhw":"UserSignIn",rel:"nofollow",href:Object(E.b)("/login")},Object(Y.h)(se.a,{key:"signin-text"},t.userNav.signIn))}},{key:"renderWishlist",value:function(){var e=this.props,t=e.t,n=e.flags;return e.user&&n.showWishlist?Object(Y.h)("a",{id:"header-wishlist-heart","data-bhw":"Wishlists",href:"/wishlist",className:"icon-heart-filled user-menu-item",rel:"nofollow"},Object(Y.h)(se.a,{key:"myWishlist"},t.userNav.myWishlist)):null}},{key:"renderSignUpLink",value:function(){var e=this.props,t=e.t;return e.user?null:Object(Y.h)("a",{className:"user-menu-item",rel:"nofollow",id:"ls-user-signup","data-bhw":"UserSignUp",href:Object(E.b)("/signup")},Object(Y.h)(se.a,{key:"signUp"},t.userNav.signUp))}},{key:"renderMyStuffMenu",value:function(){return this.shouldRenderUserMenu()?Object(Y.h)(Gt,{show:this.state.showUserMenu}):null}},{key:"render",value:function(){var e=this.props,t=e.t,n=e.user;return Object(Y.h)("nav",{className:Ye()("user-menu",{"signed-out":!n,"signed-in":n}),id:"ls-user-nav-menu"},Object(Y.h)("a",{href:"/occasion/recently-viewed-deals",id:"ls-rvd-link","data-bhw":"RecentlyViewedDeals",className:Ye()({"ls-hide":!Object(ft.b)()},"responsive-hide-500 icon-view user-menu-item"),rel:"nofollow"},Object(Y.h)(se.a,{tagName:"span"},t.userNav.recentlyViewedDeals)),this.renderWishlist(),Object(Y.h)(_t,this.props),Object(Y.h)(se.a,{tagName:"a",id:"user-merchant",className:"user-menu-item user-merchant","data-bhw":"user-merchant-link",rel:"nofollow",key:"user-merchant-link",href:t.links.headerMerchantLink},t.userNav.headerMerchant),Object(Y.h)(se.a,{tagName:"a",id:"user-help",className:"responsive-hide-500 user-menu-item user-help",href:t.links.helpLink,"data-bhw":"user-help-link",key:"user-help-link"},t.userNav.help),Object(Y.h)(Et,this.props),this.renderSignInLink(),this.renderSignUpLink(),this.renderUserMenu(),this.renderMyStuffMenu())}}])&&qt(n.prototype,r),o&&qt(n,o),t}(),Kt=Object(J.b)(ct,{loadCartWidget:lt.b})(Qt),Yt=n("j5eu"),Jt=n("Rq4Z"),Xt=null;function Zt(){return{type:k.v}}function $t(){return en(!1,!0)}function en(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Xt&&window.clearTimeout(Xt),function(n,r){var o=r().signinFlyout;o.show&&(o.active&&!e||(t?Xt=window.setTimeout(function(){n({type:k.C})},250):n({type:k.C})))}}function tn(){return Xt&&window.clearTimeout(Xt),function(e,t){t().signinFlyout.show||e({type:k.mb})}}function nn(){return{type:k.a}}function rn(){return{type:k.r}}function on(e){return function(t){return t({type:k.ob}),Object(Yt.e)(e).then(function(){t({type:k.pb}),Object(Pt.c)()}).catch(function(e){t({type:k.nb,error:e})})}}function an(e){return function(t,n){var r=n().flags;return t({type:k.ob}),Object(Yt.f)(e,r.showGDPRSigninFlyout).then(function(e){t({type:k.pb}),Object(Pt.b)(e)}).catch(function(e){t({type:k.nb,error:e}),Object(Jt.a)("google-signin-failure",{error:e})})}}function cn(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){var r=n(),o=r.flags,i=r.signinFlyout;return t({type:k.ob}),i.showFBReauthModal&&t(Zt()),Object(Yt.d)(e,o.showGDPRSigninFlyout).then(function(e){switch(e.type){case"success":t({type:k.pb}),Object(Pt.b)(e.location);break;case"reauth":t({type:k.w});break;default:t({type:k.nb,error:e.error})}}).catch(function(e){t({type:k.nb,error:e})})}}var un=n("PTOQ");function sn(e){return(sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ln(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fn(e,t){return!t||"object"!==sn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pn(e){return(pn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bn(e,t){return(bn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var hn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),fn(this,pn(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bn(e,t)}(t,Y["Component"]),n=t,(r=[{key:"shouldComponentUpdate",value:function(e){return this.props.flags.showGDPRSigninFlyout!==e.flags.showGDPRSigninFlyout}},{key:"render",value:function(){var e=this.props,t=e.t;if(!e.flags.showGDPRSigninFlyout)return null;var n=t.signinFlyout.gdprSignInFlyout||"",r=un.a.load(n).addPlaceholder("%link_terms_open%","%link_terms_close%",{id:"gdprTermsLink",url:"/legal/termsofservice",bhw:"gdprTermsLink"}).addPlaceholder("%link_privacy_open%","%link_privacy_close%",{id:"gdprPrivacyLink",url:"/legal/privacypolicy",bhw:"gdprPrivacyLink"}).render();return Object(Y.h)("div",{id:"sf-gdpr",className:"sf-gdpr","data-privacy-version":"-1","data-terms-version":"-1"},r)}}])&&ln(n.prototype,r),o&&ln(n,o),t}(),dn=n("VAGs");function yn(e){return(yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vn(e){return(vn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function On(e,t){return(On=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var wn=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=vn(t).call(this,e))||"object"!==yn(o)&&"function"!=typeof o?gn(r):o).fbLoaded=!1,n.handleClick=n.handleClick.bind(gn(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&On(e,t)}(t,Y["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this,t=this.props.user,n=window.I18n.locale;t||Object(dn.b)("https://connect.facebook.net/".concat(n,"/sdk.js"),"facebook-jssdk").then(function(){e.fbLoaded=!0}).catch(function(){})}},{key:"handleClick",value:function(e){e.preventDefault();var t=this.props.signInWithFacebook;this.fbLoaded&&t()}},{key:"render",value:function(){return Object(Y.h)("button",{className:"btn ls-btn-facebook",id:"ls-btn-facebook",tabIndex:"0",type:"button","data-bhw":"FacebookLogin",key:"FacebookLogin",onClick:this.handleClick},Object(Y.h)(se.a,{key:"Facebook-text"},"Facebook"))}}])&&mn(n.prototype,r),o&&mn(n,o),t}();function jn(e){return(jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sn(e){return(Sn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pn(e,t){return(Pn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Nn=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Sn(t).call(this,e))||"object"!==jn(o)&&"function"!=typeof o?_n(r):o).googleButton=null,n.gapiLoaded=!1,n.gapiInited=!1,n.handleSuccess=n.handleSuccess.bind(_n(n)),n.handleFailure=n.handleFailure.bind(_n(n)),n.initGapi=n.initGapi.bind(_n(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pn(e,t)}(t,Y["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){this.props.user||new Promise(function(e){return Object(dn.b)("https://apis.google.com/js/api.js","google-jssdk").then(function(){return window.gapi.load("auth2",e)})}).then(this.initGapi)}},{key:"initGapi",value:function(){if(!this.gapiInited&&this.googleButton){var e=this.props.app.googleClientId;window.gapi.auth2.init({client_id:e}).attachClickHandler(this.googleButton,{},this.handleSuccess,this.handleFailure),this.gapiInited=!0}}},{key:"handleSuccess",value:function(e){this.props.signInWithGoogle(e)}},{key:"handleFailure",value:function(e){Object(Jt.a)("google-signin-popup-closed",{error:e})}},{key:"render",value:function(){var e=this;return Object(Y.h)("button",{className:"btn ls-btn-google",id:"ls-btn-google",tabIndex:"0",type:"button","data-bhw":"GoogleLogin",key:"GoogleLogin",ref:function(t){e.googleButton=t}},Object(Y.h)(se.a,{key:"google-text"},"Google"))}}])&&kn(n.prototype,r),o&&kn(n,o),t}();function Cn(e){return(Cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fn(e){return(Fn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function En(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tn(e,t){return(Tn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Un=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Fn(t).call(this,e))||"object"!==Cn(o)&&"function"!=typeof o?En(r):o).state={rememberMe:!0,email:"",password:"",focused:null,validator:{}},n.handleChange=n.handleChange.bind(En(n)),n.handleFocus=n.handleFocus.bind(En(n)),n.handleBlur=n.handleBlur.bind(En(n)),n.handleSubmit=n.handleSubmit.bind(En(n)),n.validateEmail=n.validateEmail.bind(En(n)),n.validatePassword=n.validatePassword.bind(En(n)),n.renderEmailField=n.renderEmailField.bind(En(n)),n.renderPasswordField=n.renderPasswordField.bind(En(n)),n.renderSocial=n.renderSocial.bind(En(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tn(e,t)}(t,Y["Component"]),n=t,(r=[{key:"componentDidUpdate",value:function(e){!e.signinFlyout.show&&this.props.signinFlyout.show&&setTimeout(function(){var e=document.getElementById("ls-signin-form");window.chrome&&e.querySelector("input:-webkit-autofill")&&e.click()},250)}},{key:"handleFocus",value:function(e){this.props.activeSigninFlyout(),this.setState({focused:e.target.name})}},{key:"handleBlur",value:function(e){var t=e.target.name,n=this.state.validator;switch(t){case"email":n[t]=this.validateEmail();break;case"password":n[t]=this.validatePassword()}this.props.deactiveSigninFlyout(),this.setState({validator:n,focused:null})}},{key:"handleChange",value:function(e){var t,n=e.target,r="checkbox"===n.type?n.checked:n.value,o=n.name;this.setState((Mn(t={},o,r),Mn(t,"validator",Object.assign(this.state.validator,Mn({},o,null))),t))}},{key:"handleSubmit",value:function(e){var t=this.state,n=t.email,r=t.password,o=t.rememberMe;e.preventDefault();var i=this.validateEmail(),a=this.validatePassword();if("success"===i&&"success"===a){var c={email:n,password:r,rememberMe:o};this.props.signInWithForm(c)}else this.setState({validator:Object.assign(this.state.validator,{email:i,password:a})})}},{key:"validateEmail",value:function(){var e=this.state.email;return e?Object(T.b)(e)?"success":"invalid":"required"}},{key:"validatePassword",value:function(){return this.state.password?"success":"required"}},{key:"renderPasswordField",value:function(){var e=this.props,t=e.t,n=e.app,r=this.state,o=r.validator,i=r.focused,a=r.password,c=null;return o.password&&"required"===o.password&&(c="password"===i?t.signinFlyout.requiredPassword:t.signinFlyout.required),Object(Y.h)("div",{className:Ye()("gig-field","lang-".concat(n.lang),{error:o.password&&"success"!==o.password,filled:a.length>0,focused:"password"===i,success:"success"===o.password}),id:"field-password-input"},Object(Y.h)("label",{htmlFor:"sf-pw"},Object(Y.h)(se.a,{tagName:"n",key:"label-password"},t.signinFlyout.password),c&&Object(Y.h)(se.a,{tagName:"span",className:"error-message",key:"password-error-message"},c)),Object(Y.h)("input",{className:"field-input",id:"sf-pw",type:"password",tabIndex:"0",name:"password",value:a,onFocus:this.handleFocus,onBlur:this.handleBlur,onInput:this.handleChange,autoComplete:"current-password"}),Object(Y.h)("span",{className:"icon icon-key"}))}},{key:"renderEmailField",value:function(){var e=this.props.t,t=this.state,n=t.validator,r=t.focused,o=t.email,i=null;return n.email&&("required"===n.email?i="email"===r?e.signinFlyout.requiredEmail:e.signinFlyout.required:"invalid"===n.email&&(i=e.signinFlyout.invalidEmail)),Object(Y.h)("div",{className:Ye()("gig-field",{error:n.email&&"success"!==n.email,filled:o.length>0,focused:"email"===r,success:"success"===n.email})},Object(Y.h)("label",{htmlFor:"sf-email"},Object(Y.h)(se.a,{tagName:"n",key:"label-email"},e.signinFlyout.email),i&&Object(Y.h)(se.a,{tagName:"span",className:"error-message",key:"email-error-message"},i)),Object(Y.h)("input",{className:"field-input",id:"sf-email",type:"email",tabIndex:"0",name:"email",autoCorrect:"off",value:o,onFocus:this.handleFocus,onBlur:this.handleBlur,onInput:this.handleChange,autoComplete:"email"}),Object(Y.h)("span",{className:"icon icon-email"}))}},{key:"renderSocial",value:function(){var e=this.props,t=e.t,n=e.flags,r=e.app,o=r.facebookAppId,i=r.googleClientId;return o||i?Object(Y.h)("div",{id:"sf-social-stuff"},Object(Y.h)(se.a,{tagName:"div",className:"sf-or",key:"signInWith"},t.signinFlyout.signInWith),Object(Y.h)(hn,{t:t,flags:n}),Object(Y.h)("div",{className:"sf-social"},o?Object(Y.h)(wn,this.props):null,i?Object(Y.h)(Nn,this.props):null)):null}},{key:"render",value:function(){var e=this.props,t=e.t,n=e.signinFlyout;return Object(Y.h)("div",{className:"sf-login"},n.error&&Object(Y.h)("div",{className:"ls-signin-error-msg show",id:"ls-signin-error"},t.signinFlyout.invalidEmailOrPassword),Object(Y.h)("form",{id:"ls-signin-form",className:"form-v2-1 ls-signin-form","data-bhw":"ls-signin-form",method:"post",action:"/login",noValidate:!0,onSubmit:this.handleSubmit},Object(Y.h)("div",{className:"ax-hidden"},t.signinFlyout.myStuff),this.renderEmailField(),this.renderPasswordField(),Object(Y.h)("div",{className:"signin-remember-forgot"},Object(Y.h)("div",{className:"signin-remember"},Object(Y.h)("input",{type:"checkbox",id:"ls-remember-me",name:"rememberMe",tabIndex:"0",checked:this.state.rememberMe,onFocus:this.handleFocus,onBlur:this.handleBlur,onChange:this.handleChange}),Object(Y.h)(se.a,{tagName:"label",htmlFor:"ls-remember-me",key:"ls-remember-me"},t.signinFlyout.rememberMe)),Object(Y.h)("div",{className:"signin-forgot"},Object(Y.h)(se.a,{tagName:"a",id:"ls-forgot-password",href:"/forgot_password",rel:"nofollow",tabIndex:"0",key:"forgot_password"},t.signinFlyout.forgotPassword))),Object(Y.h)(se.a,{tagName:"button",className:"btn btn-signin",type:"submit",tabIndex:"0",key:"signin-button"},t.signinFlyout.signIn)),this.renderSocial())}}])&&xn(n.prototype,r),o&&xn(n,o),t}();function Ln(e){return(Ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function In(e){return(In=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function An(e,t){return(An=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Bn=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=In(t).call(this,e))||"object"!==Ln(o)&&"function"!=typeof o?Dn(r):o).handleDocumentKeyup=n.handleDocumentKeyup.bind(Dn(n)),n.handleDocumentActive=n.handleDocumentActive.bind(Dn(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&An(e,t)}(t,Y["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleDocumentActive),document.addEventListener("keyup",this.handleDocumentKeyup)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleDocumentActive),document.removeEventListener("keyup",this.handleDocumentKeyup)}},{key:"handleDocumentActive",value:function(e){e.target.closest(".flyout-menu-item, .ls-signin-flyout, .ls-signin-form")||this.props.hideSigninFlyout()}},{key:"handleDocumentKeyup",value:function(e){27===e.keyCode&&this.props.hideSigninFlyout()}},{key:"render",value:function(){var e=this.props,t=e.flags,n=e.signinFlyout,r=e.showSigninFlyout,o=e.hideSigninFlyoutWithDelay;return e.user?Object(Y.h)(Gt,{show:n.show,onMouseOver:r,onMouseOut:o}):Object(Y.h)("div",{id:"ls-signin-flyout",className:Ye()({"gdpr-signin-flyout":t.showGDPRSigninFlyout,show:n.show},"sf my-stuff"),onMouseOver:r,onMouseOut:o},Object(Y.h)(Gt,null),Object(Y.h)(Un,this.props))}}])&&Rn(n.prototype,r),o&&Rn(n,o),t}(),Gn=Object(J.b)(ut,r)(Bn);function Wn(e){return(Wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zn(e){return(zn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hn(e,t){return(Hn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Qn=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=zn(t).call(this,e))||"object"!==Wn(o)&&"function"!=typeof o?Vn(r):o).handleAuth=n.handleAuth.bind(Vn(n)),n.handleClose=n.handleClose.bind(Vn(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hn(e,t)}(t,Y["Component"]),n=t,(r=[{key:"handleClose",value:function(){this.props.hideFBReauthModal()}},{key:"handleAuth",value:function(){this.props.signInWithFacebook(!0)}},{key:"render",value:function(){var e=this.props,t=e.t,n=e.signinFlyout,r=e.user;return!n.showFBReauthModal||r?null:Object(Y.h)("div",{id:"ls-fb-auth-modal",className:"modal ls-social-modal show-modal"},Object(Y.h)("div",{className:"modal-body"},Object(Y.h)("div",null,Object(Y.h)("div",{className:"fb-reauth","data-bhw":"FacebookReauth"},Object(Y.h)("div",{className:"row"},Object(Y.h)("div",{className:"text-center"},Object(Y.h)("div",{role:"heading",className:"section-title","aria-level":"3"},t.signinFlyout.fbReauthTitle)),Object(Y.h)("p",null,t.signinFlyout.fbReauthDesc)),Object(Y.h)("div",{className:"row text-center"},Object(Y.h)("button",{className:"btn",id:"fb-auth",onClick:this.handleAuth},t.signinFlyout.fbReauthButton),Object(Y.h)("a",{className:"close-modal",id:"fb-auth-close",onClick:this.handleClose},t.signinFlyout.fbReauthClose))))))}}])&&qn(n.prototype,r),o&&qn(n,o),t}();function Kn(e){return(Kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jn(e){return(Jn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zn(e,t){return(Zn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $n=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Jn(t).call(this,e))||"object"!==Kn(o)&&"function"!=typeof o?Xn(r):o).renderLink=n.renderLink.bind(Xn(n)),n.handleToggleFlyout=n.handleToggleFlyout.bind(Xn(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zn(e,t)}(t,Y["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("changestate",function(){e.forceUpdate()})}},{key:"handleToggleFlyout",value:function(){var e=this.props,t=e.signinFlyout,n=e.showSigninFlyout,r=e.hideSigninFlyout;t.show?r():n()}},{key:"renderLink",value:function(){var e=this.props,t=e.t,n=e.showSigninFlyout,r=e.hideSigninFlyoutWithDelay,o=e.user;return o?Object(Y.h)(pt.a,{className:"user-menu-item user-menu-action user-name notranslate",id:"user-name","data-bhw":"UserName",href:"/mystuff",rel:"nofollow","aria-haspopup":"true",key:"link-username",onMouseOver:n,onMouseOut:r,onTouch:this.handleToggleFlyout},Object(Y.h)("span",{className:"icon-arrow-down-large"},o.nameTruncated||o.firstName)):Object(Y.h)(pt.a,{className:"user-menu-item user-menu-action",rel:"nofollow","data-bhw":"UserSignIn","aria-haspopup":"true",href:Object(E.b)("/login"),key:"UserSignIn",onMouseOver:n,onMouseOut:r,onTouch:this.handleToggleFlyout},t.signinFlyout.linkText)}},{key:"render",value:function(){return this.props.hideSigninFlyoutForResponsive?null:Object(Y.h)("div",{id:"signup-container",className:"signup-container"},this.renderLink(),Object(Y.h)(Gn,null),Object(Y.h)(Qn,this.props))}}])&&Yn(n.prototype,r),o&&Yn(n,o),t}(),er=Object(J.b)(ut,r)($n);function tr(e,t,n,r){var o=e.appName,i=e.brand,a=e.country,c=i.isGroupon;return r?[{id:"ls-my-groupons",bhc:"UserProfileNavBarTab:My Groupons",bhw:"UserProfileNavBar",url:"/mystuff",text:t.userNav.myGroupons,active:"mygroupons"===o},{id:"ls-older-vouchers",url:"/ls_voucher_archive",bhc:"UserProfileNavBarTab:Vouchers Before May 2017",text:t.userNav.voucherArchive,active:"itier-ls-voucher-archive"===o,filter:!c&&"US"===a},{id:"ls-my-linked-deals",bhc:"UserProfileNavBarTab:My Groupon+ Deals",url:"/mylinkeddeals",text:t.userNav.myCardLinkedDeals,active:"clo"===o,filter:n.showMyLinkedDealsLink},{id:"ls-my-reservations",bhc:"UserProfileNavBarTab:My Reservations",url:"/users/".concat(r.id,"/reservations"),text:t.userNav.myReservations,active:"my_reservations"===o,filter:c&&"US"===a},{id:"ls-my-account",bhc:"UserProfileNavBarTab:My Account",url:"US"===a?"/users/".concat(r.id,"/account"):"/myaccount",text:t.userNav.myAccount,active:"my_account"===o},{id:"ls-my-profile",bhc:"UserProfileNavBarTab:My Profile",url:"/myprofile",text:t.userNav.myProfile,active:["my_profile","myprofile"].includes(o),filter:n.showMyProfile},{id:"ls-my-email-subs",bhc:"UserProfileNavBarTab:My Email Subscriptions",url:"/subscription_center",text:t.userNav.myEmailSubs,active:"sub_center"===o,filter:"US"!==a||r.isActive},{id:"ls-groupon-select",bhc:"UserProfileNavBarTab:Groupon Select",url:t.userNav.grouponSelectLink,text:t.userNav.grouponSelect,active:"mm_subscription_programs"===o,filter:c&&"US"===a},{id:"ls-privacy-center",bhc:"UserProfileNavBarTab:Privacy Center",url:t.userNav.privacyCenterLink,text:t.userNav.privacyCenter,filter:"US"!==a&&n.enablePrivacyCenter}].filter(function(e){return!e.hasOwnProperty("filter")||e.filter}):[]}var nr=Object(Je.createSelector)(Xe.b,Xe.j,Xe.f,Xe.k,function(e,t,n,r){return{app:e,t:t,flags:n,user:r,tabs:tr(e,t,n,r)}});function rr(e){return(rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function or(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ir(e,t){return!t||"object"!==rr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ar(e){return(ar=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cr(e,t){return(cr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ur=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ir(this,ar(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cr(e,t)}(t,Y["Component"]),n=t,(r=[{key:"render",value:function(){var e=this.props.tabs;return Object(Y.h)("div",{id:"ls-my-stuff-tabs",className:"tabs-container ls-my-stuff"},Object(Y.h)("ul",{className:"tabs","data-bhw":"UserProfileNavBar"},e.map(function(e){return Object(Y.h)("li",{id:e.id,className:Ye()({active:e.active}),"data-bhc":e.bhc,"data-bhw":e.bhw,key:e.id},Object(Y.h)(se.a,{tagName:"a",href:e.url,key:"link-".concat(e.id)},e.text))})))}}])&&or(n.prototype,r),o&&or(n,o),t}(),sr=Object(J.b)(nr)(ur),lr=n("QYOe"),fr=n("fQX0"),pr=n("tCgK");function br(e){return(br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dr(e,t){return!t||"object"!==br(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yr(e){return(yr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mr(e,t){return(mr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var vr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),dr(this,yr(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mr(e,t)}(t,fr["a"]),n=t,o=[{key:"init",value:function(e){window.Groupon=Object.assign({},window.Groupon,{LSApp:new t(e)})}}],(r=[{key:"setCouponLinks",value:function(e){this.store.dispatchEvent(Object(pr.updateCouponLinks)(e))}}])&&hr(n.prototype,r),o&&hr(n,o),t}(),gr=n("r6CY"),Or=n("kwLt"),wr=n("N7f/"),jr=n("BOuo");function kr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Sr(e,t,n[t])})}return e}function Sr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.p=window.remoteUrl;var _r=Q();t.default=function(){var e,t,r,o,i,a,c,u,s,l,f;n("VxMD"),Object(lr.a)(_r),vr.init(_r),_r.dispatch((e=window.__LS_INITIAL_STATE__,t=e.location,r=Object(ft.f)()||{},o={query:Object(E.d)("query")},i=r.lat,a=r.lng,c=r.closestDivision,u=r.currentLocation,s=r.fullAddress,l=Object(Yt.b)(),f={user:l,error:null,isAuthenticated:!!l||void 0},Object(ft.g)(r),Object(ft.h)(),{type:k.E,payload:Object.assign(e,{searchLoc:r,dealSearch:o,auth:f,location:kr({},t,{lat:i||t.lat,lng:a||t.lng,division:c||t.division||Cookie.get("division"),address:s||t.address,currentLocation:u||t.currentLocation})})})),xe.windowLoaded.then(function(){_r.dispatch(function(e){return new Promise(function(t){e(Object(Tt.a)());var n=Object(jr.b)();e({type:k.Cb,recentSearches:n});var r=Object(jr.a)();e({type:k.Bb,recentLocations:r}),e(Object(wr.a)()),e(Object(pr.loadSubnav)()),Promise.all([e(Object(Z.b)()),e(Object(lt.a)())]).then(function(){return t()}).catch(function(){})})})}),Object(Or.a)(window.history),Object(K.a)(_r,Ie,"ls-in-app-messages"),Object(K.a)(_r,Me,"ls-header-top-row","ls-header-inbox-flyout-container"),Object(K.a)(_r,Qe,"gdpr-bottom-banner"),Object(K.a)(_r,Kt,"ls-user-nav","ls-user-nav-menu"),Object(K.a)(_r,er,"ls-header-top-row","ls-header-signin-flyout-container"),Object(K.a)(_r,sr,"ls-my-stuff-wrapper");var p="default"===document.head.dataset.header;document.body.classList.contains("ls-resp")&&n.e(78).then(n.bind(null,"8rz3")).then(function(e){new(0,e.default)(_r.dispatch)}),p&&Promise.all([n.e(1),n.e(25)]).then(n.bind(null,"OZzy")).then(function(e){var t=e.PrimaryNavRoot,n=e.SearchBarRoot,r=e.SubNavRoot;Object(K.a)(_r,t,"ls-channel-nav","ls-primary-nav-row"),Object(K.a)(_r,n,"ls-search-wrapper","ls-search-form"),Object(gr.dispatchEvent)("loaded-preact-search"),Object(K.a)(_r,r,"ls-channel-nav","subnav")})}},tCgK:function(e,t,n){"use strict";n.r(t);var r=n("tCwQ"),o=n("F6jm"),i=n("fv7Y"),a=n("Kanf"),c=n("oeuO"),u=n("wPPU");function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){return e.reduce(function(e,t){return Object.assign(e,s({},t.group,t))},{})}function f(e){return"".concat(e,":").concat(Groupon.App.name)}function p(e){var t=Object(o.b)(a.f,f(e)),n=Object(u.a)();return function(e){return e&&e.hasOwnProperty("primary")&&e.hasOwnProperty("cards")&&e.hasOwnProperty("flyouts")}(t)&&!Object(u.b)(n)?Promise.resolve(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){s(e,t,n[t])})}return e}({},t,{cards:l(t.cards)})):function(e,t){return Object(i.a)("".concat("/layout/api/v2/subnav","?").concat(t.toString())).then(function(t){var n=t.flyouts,r=t.cards,i=t.primary,u=t.divisionData,s=!n||!Object.keys(n).length,p=!Array.isArray(r);return s&&(n={}),p&&(r=[]),s||p||Object(o.f)(a.f,f(e),{primary:i,flyouts:n,cards:r,divisionData:u},c.a),{primary:i,flyouts:n,cards:l(r),divisionData:u}})}(e,n)}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){h(e,t,n[t])})}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"updateTabBound",function(){return y}),n.d(t,"showFlyout",function(){return m}),n.d(t,"hideAllFlyouts",function(){return v}),n.d(t,"loadSubnav",function(){return g}),n.d(t,"updateCouponLinks",function(){return O});var d=null;function y(e){var t=document.getElementById("".concat(e,"-tab")).querySelector("a").getBoundingClientRect(),n={id:e,x:t.x,y:t.y,width:t.width,height:t.height};return{type:r.O,rect:n}}function m(e){return d&&window.clearTimeout(d),function(t,n){n().navbar.activeTab!==e&&t({type:r.P,tab:e})}}function v(){return function(e,t){t().navbar.activeTab&&(d&&window.clearTimeout(d),d=window.setTimeout(function(){e({type:r.Q})},250))}}function g(){return function(e,t){var n=t(),o=n.flags,i=n.location,a=n.flyouts,c=n.cards;o.showLiteHeader||a&&Object.keys(a).length&&Array.isArray(c)&&c.length||p(i.division).then(function(t){window.shellLayout&&(e(b({type:r.xb},t)),e(b({type:r.R},t))),e(b({type:r.qb},t))}).catch(function(){})}}function O(e){return{type:"SUBNAV_UPDATE_COUPONS",couponsSubnavLinks:e}}},xf2O:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n("4dxh");function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(e){var n,r,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(i=u(t).call(this,e))||"object"!==o(i)&&"function"!=typeof i?s(r):i).touchTimer=null,n.timestamp=0,n.link=null,n.handleTouch=n.handleTouch.bind(s(n)),n}var n,f,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,r["Component"]),n=t,p=[{key:"defaultProps",get:function(){return{noReRender:!0}}}],(f=[{key:"shouldComponentUpdate",value:function(){return!this.props.noReRender}},{key:"handleTouch",value:function(e){var t=this.props,n=t.onTouch,r=t.shouldDoubleTouch;if(!r||r()){e.preventDefault(),e.stopImmediatePropagation(),this.touchTimer&&clearTimeout(this.touchTimer);var o=(new Date).getTime();o-this.timestamp<300?this.link.click():(this.timestamp=o,this.touchTimer=setTimeout(function(){n(e)},300))}}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,o=a(t,["children"]);return Object(r.h)("a",i({},o,{onTouchEnd:this.handleTouch,ref:function(t){e.link=t}}),n)}}])&&c(n.prototype,f),p&&c(n,p),t}()}}]);
//# sourceMappingURL=desktop-preact-f2b6523861.js.map