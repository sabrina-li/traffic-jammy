I18n.setPluralRule('en', function pluralizeEN(n) { var i=Math.floor(Math.abs(n)),v=n.toString().replace(/^[^.]*\.?/,"").length;if(typeof n==="string")n=parseInt(n,10);if(i===1&&v===0)return"one";return"other" });I18n.configure({"locale":"en_US","country":"US","brandId":"groupon","translations":{"js":{"modules":{"facebook":{"rerequest_modal_header":"Groupon didn't get your email from Facebook, but we need it to sign you up.","rerequest_modal_body":"If you'd like to share it with us so you can take advantage of Facebook Login, you can update your Facebook permissions to give us access to your email. If not, you can always sign up for a Groupon account without using Facebook.","rerequest_modal_button":"Update Facebook Permissions","rerequest_no_thanks":"No Thanks"},"forgot_password":{"enter_email_validation":"Please enter your email address.","enter_correct_email":"Please enter a correct email address."},"groupon-deal-timer":{"countdown_time_1_day":"{{timerIcon}}1 day {{timestamp}}","countdown_time_many_days":"{{timerIcon}}{{days}} days {{timestamp}}","countdown_time_today":"{{timerIcon}}{{timestamp}}","countdown_time_ended":"Sale Ended","countdown_time_today_msg":"Sale Ends In {{timestamp}}","tile":{"countdown_days":"{{days}} days","countdown_time_1_day":"1 day {{timestamp}}","countdown_time_many_days":"{{days}} days {{timestamp}}","countdown_time_today":"{{timestamp}}","deal_ends":"Deal Ends"}},"login":{"enter_email":"Please enter your email address.","enter_correct_email":"Please enter a correct email address.","enter_password":"Please enter your password.","continue":"Continue","email_not_found":"Email address not found.","password_incorrect":"Password is incorrect.","recaptchaError":"reCAPTCHA verification failed, please make sure you select right images and try again.","recaptchaUnsolved":"Please make sure you have clicked on reCAPTCHA checkbox.","invalid_username_or_password":"Your username or password is incorrect.","over_login_attempts":"Too many failed login attempts. Please try again in 30 minutes. If you feel you have reached this in error, please contact customer support.","something_went_wrong":"Something went wrong, please try again in a few minutes.","activation_unavailable":"Account activation is currently unavailable, please try again using the link from activation email in a few minutes.","already_activated":"Your account has already been activated, please log in.","we_could_not_authenticate_you":"We could not authenticate you, please try again","unified_login":{"enter_email_inquery":"Enter your email to sign in or create an account.","new_email":"We don't recognize this email. Do you want to create a new account with this email?","email":"Email","enter_full_name":"Please enter your full name.","full_name_letters_only":"Full name should contain letters only.","enter_email":"Please enter your email address.","enter_correct_email":"Please enter a correct email address.","check_terms":"Please check the accept terms checkbox.","password":{"enter_password":"Please enter your password.","enter_correct_password":"A valid password needs at least 6 characters.","password_minimum_8_contain_letters":"Password should at least contain 8 characters and one of them should be letter.","incorrect_password":"That password is incorrect.","sign_in":"Password","sign_up":"Password(at least 6 characters)","show":"SHOW","hide":"HIDE"},"full_name":"Full Name","edit":"Edit","next":"Next","forgot_password":"Forgot password?","or":"or","create_account":"Create Account","already_have_account":"Already have an account? {{sign_in_open}}Sign in{{sign_in_close}}","sign_in":"Sign in","welcome_back":"Welcome back!","secure_server":{"sign_in":"Sign in using our secure servers","sign_up":"Sign up using our secure servers"},"facebook":{"sign_in":"Sign in with Facebook","sign_up":"Sign up with Facebook","facebook":"Facebook"},"google":{"sign_in":"Sign in with Google","sign_up":"Sign up with Google","google":"Google"},"recaptcha":{"click":"Click the reCAPTCHA checkbox so we know you're not a robot.","invalid":"We are not able to verify the recaptcha response, please try again.","protected_by_recaptcha":"Protected by reCAPTCHA","privacy_and_terms":"{{privacyOpen}}Privacy{{privacyClose}} and {{termsOpen}}Terms{{termsClose}}"},"accept_terms":"I agree to the {{terms_open}}Terms of use{{terms_close}} & {{privacy_open}}Privacy Statement.{{privacy_close}}","do_not_have_account_continue":"Don't have an account? Continue!"},"already_activated_sign_in":"Your account has already been activated, please sign in."},"password_toggle":{"password_show":"SHOW","password_hide":"HIDE"},"reset_password":{"logo":"Groupon","enter_password":"Please enter your new password.","confirm_password":"Please enter the password confirmation.","match_password":"Password doesn't match confirmation.","password_minimum_8_contain_letters":"Password should at least contain 8 characters and one of them should be letter.","password_confirmation":"Passwords should match.","password_short_minimum":"Password is too short, minimum is 6 characters."},"signup":{"accept_terms":"Accept terms must be checked.","check_terms":"Please check accept terms checkbox.","select_gender":"Please choose your gender.","enter_city":"Please enter your city.","enter_email":"Please enter your email address.","enter_correct_email":"Please enter a correct email address.","enter_full_name":"Please enter your full name.","enter_first_name":"Please enter your first name.","enter_last_name":"Please enter your last name.","enter_password":"Please enter your password.","enter_personal_identifier":"Please enter your personal identifier.","enter_phone_number":"Please enter your phone number.","enter_postal_code":"Please enter your postal code.","enter_street":"Please enter your street.","enter_street_number":"Please enter your house number.","password_short":"Password is too short.","password_minimum_8_contain_letters":"Password should at least contain 8 characters and one of them should be letter.","password_confirmation":"Password does not match with the confirmation.","confirm_password":"Please enter the password confirmation.","email_taken":"Email address already exists, please sign in.","email_invalid_format":"Email address is not in a valid format.","fullname_no_letters":"Full name should contain letters.","password_invalid":"Password is invalid.","fullname_invalid":"Full name is invalid.","something_went_wrong":"Something went wrong, please try again.","password_weak":"Password is too weak, please try a stronger password.","recaptchaError":"reCAPTCHA verification failed, please make sure you select right images and try again.","recaptchaUnsolved":"Please make sure you have clicked on reCAPTCHA checkbox.","passwords_should_match":"Passwords should match.","password_len_min":"Password should contain at least 6 characters.","full_name_too_long":"Full name is too long.","full_name_invalid_format":"Full name is in invalid format.","password_short_minimum":"Password is too short, minimum is 6 characters.","password_short_minimum_8":"Password is too short, minimum is 8 characters."},"prompt":{"password_incorrect":"Password is incorrect."}}},"number":{"symbols":{"decimal":".","group":",","list":";","percentSign":"%","plusSign":"+","minusSign":"-","exponential":"E","superscriptingExponent":"×","perMille":"‰","infinity":"∞","nan":"NaN","currency":{"EUR":"€","XCD":"EC$","ARS":"$","USD":"$","AUD":"A$","BBD":"$","BDT":"৳","XOF":"CFA","BMD":"$","BND":"$","BRL":"R$","BSD":"$","BYR":"р.","BZD":"$","CAD":"C$","XAF":"FCFA","NZD":"NZ$","CLP":"$","CNY":"CN¥","COP":"$","CRC":"₡","CUP":"$","DOP":"$","FJD":"$","GBP":"£","GHS":"₵","GIP":"£","GYD":"$","HKD":"HK$","ILS":"₪","INR":"₹","JMD":"$","JPY":"¥","KHR":"៛","KRW":"₩","KYD":"$","KZT":"₸","LAK":"₭","LRD":"$","MNT":"₮","MXN":"MX$","NAD":"$","XPF":"CFPF","NGN":"₦","PHP":"₱","PLN":"zł","PYG":"₲","SBD":"$","SGD":"$","SRD":"$","SSP":"£","THB":"฿","TRY":"₺","TTD":"$","TWD":"NT$","UAH":"₴","UYU":"$","VND":"₫"}},"formats":{"scientific":"#E0","decimal":"#,##0.###","currency":"¤#,##0.00","percent":"#,##0%"},"defaultCurrency":"USD"}},"scope":"js"});I18n.mixin=function mixinL10nHelpers(viewCtx, _i18n) { var deprecate; if (typeof nodeDeprecate === 'undefined') { deprecate = function id(fn) { return fn; }; } else { deprecate = nodeDeprecate; } var findKeyPath = deprecate(function findKeyPath(obj, keyPath) { keyPath.split('.').forEach(function getProperty(keyPart) { if (obj == null || typeof obj !== 'object') return; obj = obj[keyPart]; }); return JSON.stringify(obj != null ? obj : null); }, [ 'nested {{mustache}} tags in {{#t}} sections are deprecated and will be removed', 'in a future version of itier-localization; please replace this code with presenter logic', ].join(' ')); var TRANSLATED_ATTRIBUTES = { alt: true, height: true, width: true, }; var PLACEHOLDER = /(?:\{\{|%\{)\s*(.*?)\s*(?:\}\}?)/gm; var HTML_ESCAPE = { '"': '&quot;', '<': '&lt;', '>': '&gt;', }; var HTML_ESCAPE_REGEXP = /["<>]/g; function isNumber(n) { return !isNaN(parseFloat(n)) && isFinite(n); } if (viewCtx == null) { viewCtx = {}; } if (!_i18n && typeof I18n !== 'undefined') { _i18n = I18n; /* global I18n */ } viewCtx.locale = _i18n.locale; viewCtx.country = _i18n.country; viewCtx.lang = _i18n.lang; var version = (_i18n.translations && _i18n.translations.$checksum) || undefined; var baseString = 'country=' + _i18n.country + '&locale=' + _i18n.locale + '&brand=' + _i18n.brandId; viewCtx.clientSideTranslationQueryString = version ? baseString + '&version=' + version.substr(0, 10) : baseString; viewCtx.translate = function translate() { return function apply(text) { var opts; var self = this; var args = text.split(','); var key = args.shift().replace(/\s+/g, ''); if (args.length) { args = args .join(',') .trim() .replace(PLACEHOLDER, function resolveKeyPath(_, keyPath) { return findKeyPath(self, keyPath); }); try { opts = JSON.parse( args.replace(/^\s*([^{\s][\S\s]*[^\s])\s*$/, '{$1}') ); } catch (err) { err.message += ' in translate-options for key ' + key; throw err; } } return _i18n.t(key, opts != null ? opts : {}); }; }; viewCtx.t = viewCtx.translate; viewCtx.translateimg = function translateimg() { return function apply(json) { var imgAttrs = []; var hash = JSON.parse(json); for (var key in hash) { var value = hash[key]; if (TRANSLATED_ATTRIBUTES[key]) { if (!isNumber(value)) { value = _i18n .t(value) .toString() .replace(HTML_ESCAPE_REGEXP, function toEscaped(specialChar) { return HTML_ESCAPE[specialChar]; }); } } else if (key === 'src') { value = '/images/' + _i18n.locale + '/' + value; } imgAttrs.push(key + '="' + value + '"'); } imgAttrs = imgAttrs.join(' '); return '<img ' + imgAttrs + '/>'; }; }; return viewCtx; }